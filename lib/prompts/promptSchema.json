  {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Prompt Template Schema",
    "description": "Schema for validating paper type and section-specific prompt templates",
    "type": "object",
    "properties": {
      "paperTypes": {
        "type": "object",
        "properties": {
          "researchArticle": {
            "$ref": "#/definitions/paperType"
          },
          "literatureReview": {
            "$ref": "#/definitions/paperType"
          },
          "capstoneProject": {
            "$ref": "#/definitions/paperType"
          },
          "mastersThesis": {
            "$ref": "#/definitions/paperType"
          },
          "phdDissertation": {
            "$ref": "#/definitions/paperType"
          }
        },
        "additionalProperties": false,
        "required": ["researchArticle", "literatureReview"]
      }
    },
    "required": ["paperTypes"],
    "additionalProperties": false,
    "definitions": {
      "paperType": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Human-readable name of the paper type"
          },
          "description": {
            "type": "string",
            "description": "Brief description of the paper type"
          },
          "sections": {
            "type": "object",
            "properties": {
              "outline": {
                "$ref": "#/definitions/promptTemplate"
              },
              "introduction": {
                "$ref": "#/definitions/promptTemplate"
              },
              "literatureReview": {
                "$ref": "#/definitions/promptTemplate"
              },
              "methodology": {
                "$ref": "#/definitions/promptTemplate"
              },
              "results": {
                "$ref": "#/definitions/promptTemplate"
              },
              "discussion": {
                "$ref": "#/definitions/promptTemplate"
              },
              "conclusion": {
                "$ref": "#/definitions/promptTemplate"
              },
              "abstract": {
                "$ref": "#/definitions/promptTemplate"
              }
            },
            "additionalProperties": false,
            "required": ["outline"]
          },
          "depthCues": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Required depth cues that must appear in generated content"
          }
        },
        "required": ["name", "description", "sections", "depthCues"],
        "additionalProperties": false
      },
      "promptTemplate": {
        "type": "object",
        "properties": {
          "systemPrompt": {
            "type": "string",
            "description": "System prompt that sets the context and role"
          },
          "userPromptTemplate": {
            "type": "string",
            "description": "User prompt template with placeholders for topic, papers, etc."
          },
          "requiredDepthCues": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Specific depth cues required for this section"
          },
          "expectedLength": {
            "type": "object",
            "properties": {
              "words": {
                "type": "number",
                "minimum": 0
              },
              "paragraphs": {
                "type": "number", 
                "minimum": 0
              }
            },
            "additionalProperties": false
          }
        },
        "required": ["systemPrompt", "userPromptTemplate", "requiredDepthCues"],
        "additionalProperties": false
      }
    }
  } 